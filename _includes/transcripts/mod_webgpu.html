<div class="slide iframe" role="region" aria-label="Slide 1 of 16" id="slide-1"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#1"></iframe></div><div role='region'><p>Hey, i am Oguz, and in this presentation, I will talk about <a class=dfn>SIMD</a> operations in <a class=dfn>WebGPU</a> for machine learning.</p></div><div class="slide iframe" role="region" aria-label="Slide 2 of 16" id="slide-2"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#2"></iframe></div><div role='region'><p>This is a high level presentation that doesn't go into too much technical detail.</p></div><div class="slide iframe" role="region" aria-label="Slide 3 of 16" id="slide-3"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#3"></iframe></div><div role='region'><p>Subgroups are subdivision of threadgroups: they're also named as SIMDgroups, warps, and waves and their operations can make sharing and reducing data across threads in a subgroup measurably faster and we can have these operations in <a class=dfn>WebGPU</a> shading language.</p></div><div class="slide iframe" role="region" aria-label="Slide 4 of 16" id="slide-4"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#4"></iframe></div><div role='region'><p>It is fast to share data between threads in a threadgroup thanks to shared memory but it is faster to share data between threads in a subgroup because they don't even have to go to shared memory.</p></div><div class="slide iframe" role="region" aria-label="Slide 5 of 16" id="slide-5"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#5"></iframe></div><div role='region'><p>The desire is containing as much sharing and calculation as possible in these SIMD32 blocks and subgroup operations are a great way to do that.</p></div><div class="slide iframe" role="region" aria-label="Slide 6 of 16" id="slide-6"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#6"></iframe></div><div role='region'><p>Subgroup operations reduce runtime and power consumption which can have critical impact on exploratory data analysis, model fine tuning, and edge inference applications but besides, subgroups also bring an intuitive mapping to hardware for algorithms because GPUs have no atomics or advisable locking mechanism for floating point numbers, at least one that will get exposed in <a class=dfn>WebGPU</a>.</p></div><div class="slide iframe" role="region" aria-label="Slide 7 of 16" id="slide-7"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#7"></iframe></div><div role='region'><p>Subgroup operations in <a class=dfn>WebGPU</a> shading language are compute stage only, active threads only and have a non-uniform execution model.</p></div><div class="slide iframe" role="region" aria-label="Slide 8 of 16" id="slide-8"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#8"></iframe></div><div role='region'><p>The meaning of active threads here is in case of a divergence inside a subgroup, the operations provided will only execute across threads that can make to these operations together.</p></div><div class="slide iframe" role="region" aria-label="Slide 9 of 16" id="slide-9"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#9"></iframe></div><div role='region'><p>Let's get started with the basic operations: subgroup_size gives us the number of threads in a subgroup, invocation index gives us the index of our thread inside subgroup, and subgroupIsFirst gives us whether we are the first invocation among the active threads.</p></div><div class="slide iframe" role="region" aria-label="Slide 10 of 16" id="slide-10"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#10"></iframe></div><div role='region'><p>subgroupAll returns true to all invocations in case all invocations provided with true and -Any returns true in case at least one invocation provides true.</p></div><div class="slide iframe" role="region" aria-label="Slide 11 of 16" id="slide-11"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#11"></iframe></div><div role='region'><p>Arithmetic operations essentially provide you with reduction, addition across invocations, multiplication, minimum, maximum, “and”, “or”, “exclusive or”, but it is important to note that these operations will take place across active threads and they can, besides scalar numerical values, they can take vectors too.</p></div><div class="slide iframe" role="region" aria-label="Slide 12 of 16" id="slide-12"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#12"></iframe></div><div role='region'><p>Prefix operations provide us with the summation or multiplication of invocations with an index less than the one we are inspecting.</p></div><div class="slide iframe" role="region" aria-label="Slide 13 of 16" id="slide-13"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#13"></iframe></div><div role='region'><p>subgroupBallot returns a bitfield where the bit is one in the corresponding invocation in case the invocation provided true to the ballot operation and subgroupBroadcastFirst broadcasts the value in the first lane, the first active lane to rest of the invocations.</p></div><div class="slide iframe" role="region" aria-label="Slide 14 of 16" id="slide-14"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#14"></iframe></div><div role='region'><p>On desktop, subgroup operations are available everywhere at least the target of <a class=dfn>WebGPU</a> and on the mobile, most of the next generation chips support them.</p></div><div class="slide iframe" role="region" aria-label="Slide 15 of 16" id="slide-15"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#15"></iframe></div><div role='region'><p>Technically subgroup operations can make it into MVP as a good addition in the standard library of <a class=dfn>WebGPU</a> shading language because the raised concerns mostly fall out of scope for this PR and not blockers for adoption as is.</p></div><div class="slide iframe" role="region" aria-label="Slide 16 of 16" id="slide-16"><iframe src="https://www.w3.org/2020/Talks/mlws/mod_webgpu/#16"></iframe></div><div role='region'><p>Thanks and you can check the PR itself to see more and reach out to me for anything related to subgroups.</p>
<p>Have a nice and healthy day!</p></div>